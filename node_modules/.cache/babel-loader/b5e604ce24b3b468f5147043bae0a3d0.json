{"ast":null,"code":"export {};","map":{"version":3,"sources":[],"names":[],"mappings":"","sourcesContent":["import { createContext, useEffect, useReducer } from 'react'\r\nimport { Game } from '../../model/games.model'\r\n\r\n// export const fetchDataAction = async (dispatch: any) => {\r\n//   const URL = 'https://free-to-play-games-database.p.rapidapi.com/api'\r\n//   const data = await fetch(URL)\r\n//   const dataJSON = await data.json()\r\n//   return dispatch({\r\n//     type: 'FETCH_DATA',\r\n//     payload: dataJSON._embedded.episodes,\r\n//   })\r\n// }\r\n\r\n// const initialState: State = {\r\n//   favorites: [],\r\n//   totalFavorites: 0,\r\n//   addToFavorite: () => {},\r\n//   gameIsFavorite: () => {},\r\n// }\r\n// type FavProps = {\r\n//   children: React.ReactNode\r\n// }\r\n\r\n// export const FavoritesContext = createContext<State | any>(initialState)\r\n\r\n// const favoriteReducer = (favorites: State, action: Action) => {\r\n//   switch (action.type) {\r\n//     case 'FETCH_DATA':\r\n//       return { ...favorites, episodes: action.payload }\r\n//     case 'ADD_FAV':\r\n//       return {\r\n//         ...favorites,\r\n//         favorites: [...favorites.favorites, action.payload],\r\n//       }\r\n//     case 'REMOVE_FAV':\r\n//       return favorites.filter(\r\n//         (favoriteGame: { id: Game }) => favoriteGame.id !== action.payload\r\n//       )\r\n//     default:\r\n//       return favorites\r\n//   }\r\n// }\r\n\r\n// export default function FavoritesContextProvider({ children }: FavProps) {\r\n//   const [favorites, dispatch] = useReducer(favoriteReducer, initialState)\r\n\r\n//   const gameIsFavorite = (game: Game) => {\r\n//     return favorites.some(\r\n//       (favoriteGame: { id: Game }) => favoriteGame.id === game\r\n//     )\r\n//   }\r\n\r\n//   const addToFavorite = (game: Game) => {\r\n//     if (gameIsFavorite(game)) {\r\n//       dispatch({ type: 'REMOVE_FAVORITE', payload: game.id })\r\n//     } else {\r\n//       dispatch({ type: 'ADD_FAVORITE', payload: game })\r\n//     }\r\n//   }\r\n\r\n//   useEffect(() => {\r\n//     localStorage.setItem('favoriteGames', JSON.stringify(favorites))\r\n//   }, [favorites])\r\n\r\n//   return (\r\n//     <FavoritesContext.Provider\r\n//       value={{\r\n//         favorites,\r\n//         totalFavorites: favorites.length,\r\n//         addToFavorite,\r\n//         gameIsFavorite,\r\n//       }}\r\n//     >\r\n//       {children}\r\n//     </FavoritesContext.Provider>\r\n//   )\r\n// }\r\n\r\n/*import { createContext, useEffect, useReducer } from \"react\";\r\n\r\nexport const FavoritesContext = createContext({\r\n  favorites: [],\r\n  totalFavorites: 0,\r\n  addToFavorite: (game) => {},\r\n  gameIsFavorite: (gameId) => {},\r\n});\r\n\r\nconst favoriteReducer = (favorites, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_FAVORITE\":\r\n      return [action.payload, ...favorites];\r\n    case \"REMOVE_FAVORITE\":\r\n      return favorites.filter(\r\n        (favoriteGame) => favoriteGame.id !== action.payload\r\n      );\r\n    default:\r\n      return favorites;\r\n  }\r\n};\r\n\r\nexport default function FavoritesContextProvider({ children }) {\r\n  const [favorites, dispatch] = useReducer(favoriteReducer, [], () => {\r\n    return JSON.parse(localStorage.getItem(\"favoriteGames\")) ?? [];\r\n  });\r\n\r\n  const gameIsFavorite = (gameId) => {\r\n    return favorites.some((favoriteGame) => favoriteGame.id === gameId);\r\n  };\r\n\r\n  const addToFavorite = (game) => {\r\n    if (gameIsFavorite(game.id)) {\r\n      dispatch({ type: \"REMOVE_FAVORITE\", payload: game.id });\r\n    } else {\r\n      dispatch({ type: \"ADD_FAVORITE\", payload: game });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favoriteGames\", JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  return (\r\n    <FavoritesContext.Provider\r\n      value={{\r\n        favorites,\r\n        totalFavorites: favorites.length,\r\n        addToFavorite,\r\n        gameIsFavorite,\r\n      }}\r\n    >\r\n      {children}\r\n    </FavoritesContext.Provider>\r\n  );\r\n} */\r\n"]},"metadata":{},"sourceType":"module"}